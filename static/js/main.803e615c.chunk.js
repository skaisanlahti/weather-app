(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n.n(a),r=n(8),i=n.n(r),o=(n(17),n(18),n(11)),l=n(6),h=n.n(l),u=n(9),j=n(2);var d=function(e){if(e.data){var t=function(e,t){var n=[];if(e.name&&e.sys.country&&n.push(Object(s.jsxs)("h2",{children:[e.name,", ",e.sys.country]})),void 0!==e.main.temp){var a=e.main.temp.toFixed(0);n.push(Object(s.jsxs)("h1",{children:[a," ","metric"===t?"\xb0C":"\xb0F"]}))}if(e.weather[0].description&&n.push(Object(s.jsxs)("h3",{children:[e.weather[0].description,"."]})),void 0!==e.clouds.all&&n.push(Object(s.jsxs)("p",{children:["Clouds: ",e.clouds.all,"%"]})),void 0!==e.wind.speed&&n.push(Object(s.jsxs)("p",{children:["Wind: ",e.wind.speed," ","metric"===t?"m/s":"mph"]})),void 0!==e["rain.1h"]&&n.push(Object(s.jsxs)("p",{children:["Rain: ",e["rain.1h"]]})),void 0!==e["snow.1h"]&&n.push(Object(s.jsxs)("p",{children:["Snow: ",e["snow.1h"]]})),void 0!==e.sys.sunrise){var c=new Date(1e3*e.sys.sunrise).toLocaleTimeString();n.push(Object(s.jsxs)("p",{children:["Sunrise: ",c]}))}if(void 0!==e.sys.sunset){var r=new Date(1e3*e.sys.sunset).toLocaleTimeString();n.push(Object(s.jsxs)("p",{children:["Sunset: ",r]}))}return n}(e.data,e.units);return Object(s.jsx)("div",{className:"weather",children:t})}return null};function b(e){return e.searchError?Object(s.jsx)("p",{className:"error",children:"Location not found."}):Object(s.jsx)("p",{className:"error invisible",children:"Location found."})}var p=function(e){return Object(s.jsx)("div",{className:"city-search",children:Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsxs)("div",{className:"search-bar",children:[Object(s.jsx)("input",{className:"search-left",placeholder:"Search City",name:"city",type:"text",value:e.searchTerm,onChange:e.handleChange}),Object(s.jsx)("input",{className:"search-right",type:"submit",name:"search",value:"Search",onChange:e.handleChange})]}),Object(s.jsx)(b,{searchError:e.searchError}),Object(s.jsxs)("div",{className:"units",onChange:e.handleChange,children:[Object(s.jsxs)("label",{className:"radio-label",children:[Object(s.jsx)("input",{type:"radio",value:"metric",name:"units",defaultChecked:!0}),"Metric"]}),Object(s.jsxs)("label",{className:"radio-label",children:[Object(s.jsx)("input",{type:"radio",value:"imperial",name:"units"}),"Imperial"]})]})]})})};var m=function(e){return 0===e.history.length?null:Object(s.jsxs)("div",{className:"history",children:[Object(s.jsx)("h2",{children:"History"}),Object(s.jsx)("ul",{children:e.history.map((function(t){return Object(s.jsx)("li",{className:"location",onClick:e.handleHistoryClick,children:t},t)}))})]})},O=n(10);n.n(O).a.config();var f=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(j.a)(r,2),l=i[0],b=i[1],O=Object(a.useState)("metric"),f=Object(j.a)(O,2),x=f[0],v=f[1],g=Object(a.useState)([]),y=Object(j.a)(g,2),S=y[0],w=y[1],C=Object(a.useState)("metric"),N=Object(j.a)(C,2),k=N[0],I=N[1],T=Object(a.useState)(null),E=Object(j.a)(T,2),F=E[0],L=E[1],D=function(){var e=Object(u.a)(h.a.mark((function e(t,n){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("e3904f745f056f115cd404c238325b20","&units=").concat(n),{mode:"cors"});case 3:return s=e.sent,e.next=6,s.json();case 6:200===(a=e.sent).cod?(L(a),b(!1),I(n),J(S,a.name)):b(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(e,t){var n=Object(o.a)(e);n.includes(t)||(n.length>=9&&n.splice(8,1),n.unshift(t),w(n),P(n))},P=function(e){localStorage.setItem("history",JSON.stringify(e))};return Object(a.useEffect)((function(){!function(){if(localStorage.getItem("history")){var e=JSON.parse(localStorage.getItem("history"));w(e)}}()}),[]),Object(s.jsxs)("div",{className:"app",children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("h1",{children:"Weather Now"}),Object(s.jsx)(p,{handleChange:function(e){"city"===e.target.name&&c(e.target.value),"units"===e.target.name&&v(e.target.value)},handleSubmit:function(e){e.preventDefault(),D(n,x)},searchError:l,searchTerm:n})]}),Object(s.jsxs)("main",{className:"results",children:[Object(s.jsx)(d,{data:F,units:k}),Object(s.jsx)(m,{history:S,handleHistoryClick:function(e){D(e.target.innerText,x)}})]}),Object(s.jsx)("footer",{children:Object(s.jsx)("a",{href:"https://openweathermap.org/",children:"Powered by Open Weather Map API"})})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root")),x()}},[[22,1,2]]]);
//# sourceMappingURL=main.803e615c.chunk.js.map